<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>javascript语言版本的插入排序算法</title>
<head>

<script type='text/javascript'>

function jsReadFiles( f ) {

    var reader = new FileReader();
    reader.readAsArrayBuffer(f);        //读取存放待排序数值的文件

    reader.onload=function(){

        var u32 = new Int32Array( this.result );                            //将待排序的文件读入到数据中，带排序的数值为32位有符号整数

        var xxresult = document.getElementById( "result" );
        var xxresult2 = document.getElementById( "result2" );

        //显示待排序的数据到表格1中
        for( var i = 0;i < u32.length;i++ ){
            var xxtr = document.createElement( 'tr' );
            var xxtd = document.createElement( 'td' );
            xxtd.innerHTML=u32[i];
            xxtr.appendChild( xxtd );
            xxresult.appendChild( xxtr )
        }

        //使用插入算法进行排序（升序）
        for( var i = 1; i < u32.length; i++ ){
            var key = u32[i];

            for( var j = i-1; j >= 0; j-- ){
                if( key < u32[j] ){
                    u32[j+1] = u32[j];
                    u32[j] = key;
                }
            }
        }

        //显示已经排序的数据到表格2中
        for( var i = 0;i < u32.length;i++ ){
            var xxtr = document.createElement( 'tr' );
            var xxtd = document.createElement( 'td' );
            xxtd.innerHTML=u32[i];
            xxtr.appendChild( xxtd );
            xxresult2.appendChild( xxtr )
        }

    }
}

</script>

<style type'text/css'>
table{
    float:left
}
</style>

</head>
<body>

<input type="file" onchange="jsReadFiles(this.files[0])"/>

<table id='result' border='1'>
</table>
<table id='result2' border='1'>
</table>

</body>
</html>


